## 📣 들어가며

이번 포스팅에선 자바스크립트 동작 과정 및 실행 환경 구조에 대해 알아본다.
v8, 콜 스택, 힙, 콜백 큐, 이벤트 루프 등 자바스크립트 주요 개념에 대해 다룬다.

## 💛 자바스크립트는 어떻게 실행되는가?

자바스크립트 코드는 **자바스크립트 엔진** 에 의해 실행된다.
자바스크립트 엔진은 자바스크립트 코드를 실행시키는 프로그램이다.
대표적인 자바스크립트 엔진으로는 **V8** 이 있다.

## 💛 V8 엔진이란?

V8 엔진은 구글에서 개발한 오픈소스 자바스크립트 엔진이다.
자바스크립트 코드를 기계어로 변환하여 컴퓨터가 이해하고 실행할 수 있게 하는 역할을 한다.
C++ 로 구현되어 있다.
V8 엔진은 대부분의 자바스크립트 <u>호스트 환경</u>에 내장되어 있다.

자바스크립트 호스트 환경이란,
자바스크립트를 실행할 수 있는 환경을 의미한다.
대표적인 자바스크립트 호스트 환경엔
구글 크롬, Node.js, React native(모바일 앱), Electron(데스크탑) 이 있다.

## 💛 V8 엔진 구조

V8 엔진이 내부 구조를 알아보자.
아래는 V8 엔진 내부 구조를 나타낸 이미지 이다.

V8은 크게 두 부분으로 나눌 수 있다.
힙 영역과, 콜 스택 영역이다. 

### 힙(Heap) 영역

힙은 자바스크립트의 객체, 배열, 함수 등과 같은 데이터가 저장되는 메모리 영역이다.
여기서 메모리는 우리가 알고 있는 컴퓨터의 메모리(RAM)가 맞다.
V8 엔진은 자바스크립트 코드를 실행하기 위해 컴퓨터의 물리적 메모리를 사용한다. 

힙 메모리에 저장되어 있는 데이터를 더 이상 사용하지 않는다면, 
V8에 내장되어 있는 가비지 컬렉션이 힙에 있는 사용하지 않는 데이터를 자동으로 찾아 메모리를 해제한다. 

힙은 구조화되지 않은 메모리 영역이다. 
구조화되지 않았다는 말은 특정한 순서나 정렬 없이 데이터를 저장한다는 것을 의미한다.
스택이나 큐 같은 구조가 딱히 없다는 뜻.

힙의 메모리는 자바스크립트 코드가 실행될 때 동적으로 할당된다.
객체나 변수 따위의 크기를 런타임때 판단하고 해당 크기만큼 메모리를 동적 할당한다. 

### 콜 스택(Call Stack) 영역




